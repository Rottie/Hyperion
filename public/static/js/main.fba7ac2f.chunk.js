(this["webpackJsonpmern-crud"]=this["webpackJsonpmern-crud"]||[]).push([[0],{220:function(e,t,s){},245:function(e,t,s){},275:function(e,t,s){},279:function(e,t,s){},280:function(e,t,s){},281:function(e,t,s){},286:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(66),r=s.n(a),i=(s(219),s(220),s(16)),o=s(43),l=s(44),d=s(22),j=s(47),h=s(45),b=s(308),u=s(307),O=s(311),p=s(312),x=s(67),m=s.n(x),v=s(1),g=[{key:"m",text:"Male",value:"m"},{key:"f",text:"Female",value:"f"},{key:"o",text:"Do Not Disclose",value:"o"}],f=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={name:"",email:"",age:"",gender:"",formClassName:"",formSuccessMessage:"",formErrorMessage:""},n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.handleSelectChange=n.handleSelectChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(l.a)(s,[{key:"componentWillMount",value:function(){var e=this;this.props.userID&&m.a.get("".concat(this.props.server,"/api/users/").concat(this.props.userID)).then((function(t){var s;e.setState({name:t.data.name,email:t.data.email,age:null!==(s=t.data.age)&&void 0!==s?s:"",gender:t.data.gender})})).catch((function(e){console.log(e)}))}},{key:"handleInputChange",value:function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,s))}},{key:"handleSelectChange",value:function(e,t){this.setState({gender:t.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={name:this.state.name,email:this.state.email,age:this.state.age,gender:this.state.gender},n=this.props.userID?"put":"post",c=this.props.userID?this.props.userID:"";m()({method:n,responseType:"json",url:"".concat(this.props.server,"/api/users/").concat(c),data:s}).then((function(e){t.setState({formClassName:"success",formSuccessMessage:e.data.msg}),t.props.userID?(t.props.onUserUpdated(e.data.result),t.props.socket.emit("update",e.data.result)):(t.setState({name:"",email:"",age:"",gender:""}),t.props.onUserAdded(e.data.result),t.props.socket.emit("add",e.data.result))})).catch((function(e){e.response?e.response.data&&t.setState({formClassName:"warning",formErrorMessage:e.response.data.msg}):t.setState({formClassName:"warning",formErrorMessage:"Something went wrong. "+e})}))}},{key:"render",value:function(){var e=this.state.formClassName,t=this.state.formSuccessMessage,s=this.state.formErrorMessage;return Object(v.jsxs)(b.a,{className:e,onSubmit:this.handleSubmit,children:[Object(v.jsx)(b.a.Input,{label:"Name",type:"text",placeholder:"Elon Musk",name:"name",maxLength:"40",required:!0,value:this.state.name,onChange:this.handleInputChange}),Object(v.jsx)(b.a.Input,{label:"Email",type:"email",placeholder:"elonmusk@tesla.com",name:"email",maxLength:"40",required:!0,value:this.state.email,onChange:this.handleInputChange}),Object(v.jsxs)(b.a.Group,{widths:"equal",children:[Object(v.jsx)(b.a.Input,{label:"Age",type:"number",placeholder:"18",min:5,max:130,name:"age",value:this.state.age,onChange:this.handleInputChange}),Object(v.jsx)(b.a.Field,{control:u.a,label:"Gender",options:g,placeholder:"Gender",value:this.state.gender,onChange:this.handleSelectChange})]}),Object(v.jsx)(O.a,{success:!0,color:"green",header:"Nice one!",content:t}),Object(v.jsx)(O.a,{warning:!0,color:"yellow",header:"Woah!",content:s}),Object(v.jsx)(p.a,{color:this.props.buttonColor,floated:"right",children:this.props.buttonSubmitTitle}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})," "]})}}]),s}(n.Component),C=s(309),y=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(C.a,{trigger:Object(v.jsx)(p.a,{color:this.props.buttonColor,children:this.props.buttonTriggerTitle}),dimmer:"inverted",size:"tiny",closeIcon:"close",children:[Object(v.jsx)(C.a.Header,{children:this.props.headerTitle}),Object(v.jsx)(C.a.Content,{children:Object(v.jsx)(f,{buttonSubmitTitle:this.props.buttonSubmitTitle,buttonColor:this.props.buttonColor,userID:this.props.userID,onUserAdded:this.props.onUserAdded,onUserUpdated:this.props.onUserUpdated,server:this.props.server,socket:this.props.socket})})]})}}]),s}(n.Component),S=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleOpen=function(e){return n.setState({modalOpen:!0})},n.handleClose=function(e){return n.setState({modalOpen:!1})},n.state={modalOpen:!1},n.handleOpen=n.handleOpen.bind(Object(d.a)(n)),n.handleClose=n.handleClose.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this,s=e.target.getAttribute("data-userID");m()({method:"delete",responseType:"json",url:"".concat(this.props.server,"/api/users/").concat(s)}).then((function(e){t.handleClose(),t.props.onUserDeleted(e.data.result),t.props.socket.emit("delete",e.data.result)})).catch((function(e){throw t.handleClose(),e}))}},{key:"render",value:function(){return Object(v.jsxs)(C.a,{trigger:Object(v.jsx)(p.a,{onClick:this.handleOpen,color:this.props.buttonColor,children:this.props.buttonTriggerTitle}),open:this.state.modalOpen,onClose:this.handleClose,dimmer:"inverted",size:"tiny",children:[Object(v.jsx)(C.a.Header,{children:this.props.headerTitle}),Object(v.jsx)(C.a.Content,{children:Object(v.jsxs)("p",{children:["Are you sure you want to delete"," ",Object(v.jsx)("strong",{children:this.props.user.name}),"?"]})}),Object(v.jsxs)(C.a.Actions,{children:[Object(v.jsx)(p.a,{onClick:this.handleSubmit,"data-userID":this.props.user._id,color:"red",children:"Yes"}),Object(v.jsx)(p.a,{onClick:this.handleClose,color:"black",children:"No"})]})]})}}]),s}(n.Component),N=(s(245),s(182)),D=s.n(N),U=s(48),k=s(310),T=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t=this.props.users;return t=t.map((function(t){return Object(v.jsxs)(k.a.Row,{children:[Object(v.jsx)(k.a.Cell,{children:t.name}),Object(v.jsx)(k.a.Cell,{children:t.email}),Object(v.jsx)(k.a.Cell,{children:t.age}),Object(v.jsx)(k.a.Cell,{children:t.gender}),Object(v.jsxs)(k.a.Cell,{children:[Object(v.jsx)(y,{headerTitle:"Edit User",buttonTriggerTitle:"Edit",buttonSubmitTitle:"Save",buttonColor:"blue",userID:t._id,onUserUpdated:e.props.onUserUpdated,server:e.props.server,socket:e.props.socket}),Object(v.jsx)(S,{headerTitle:"Delete User",buttonTriggerTitle:"Delete",buttonColor:"black",user:t,onUserDeleted:e.props.onUserDeleted,server:e.props.server,socket:e.props.socket})]})]},t._id)})),t=Object(U.a)(t).reverse(),Object(v.jsxs)(k.a,{singleLine:!0,children:[Object(v.jsx)(k.a.Header,{children:Object(v.jsxs)(k.a.Row,{children:[Object(v.jsx)(k.a.HeaderCell,{children:"Name"}),Object(v.jsx)(k.a.HeaderCell,{children:"Email"}),Object(v.jsx)(k.a.HeaderCell,{children:"Age"}),Object(v.jsx)(k.a.HeaderCell,{children:"Gender"}),Object(v.jsx)(k.a.HeaderCell,{children:"Actions"})]})}),Object(v.jsx)(k.a.Body,{children:t})]})}}]),s}(n.Component),I=(s(275),s(183)),A=s.n(I),E=s(185),_=s.n(E),w=s(188),M=s.n(w),H=s(187),L=s.n(H),P=s(186),R=s.n(P),F=s(189),W=s.n(F),B=s(193),G=s.n(B),q=s(195),K=s.n(q),z=s(190),J=s.n(z),V=s(191),Y=s.n(V),Q=s(192),X=s.n(Q),Z=s(194),$=s.n(Z),ee=s(12),te=function(){return Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)("div",{className:"top",children:Object(v.jsx)("span",{classname:"logo",children:"Adjudant "})}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"center",children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("p",{className:"title",children:"MAIN"}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(A.a,{className:"icon"}),Object(v.jsx)("span",{children:"Dashboard "})]})}),Object(v.jsx)("p",{className:"title",children:"List"}),Object(v.jsx)(ee.b,{to:"/users",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(_.a,{className:"icon"}),Object(v.jsx)("span",{children:"Employee List"})]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(R.a,{className:"icon"}),Object(v.jsx)("span",{children:"Products"})]})}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(L.a,{className:"icon"}),Object(v.jsx)("span",{children:"Order"})]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(M.a,{className:"icon"}),Object(v.jsx)("span",{children:"Delevery"})]})}),Object(v.jsx)("p",{className:"title",children:"Real time info"}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(W.a,{className:"icon"}),Object(v.jsx)("span",{children:"Status"})]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(J.a,{className:"icon"}),Object(v.jsx)("span",{children:"Notification"})]})}),Object(v.jsx)("p",{className:"title",children:"Services"}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(Y.a,{className:"icon"}),Object(v.jsx)("span",{children:"System Health"})]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(X.a,{className:"icon"}),Object(v.jsx)("span",{children:"Logs"})]})}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(G.a,{className:"icon"}),Object(v.jsx)("span",{children:"Settins"})]})}),Object(v.jsx)("p",{className:"title",children:"Users"}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)($.a,{className:"icon"}),Object(v.jsx)("span",{children:"Profiles"})]})}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("li",{children:[Object(v.jsx)(K.a,{className:"icon"}),Object(v.jsx)("span",{children:"Logout"})]})})]})}),Object(v.jsxs)("div",{className:"bottom",children:[Object(v.jsx)("div",{class:"colorOption"}),Object(v.jsx)("div",{class:"colorOption"})]})]})},se=(s(279),s(196)),ne=s.n(se),ce=s(197),ae=s.n(ce),re=s(198),ie=s.n(re),oe=s(199),le=s.n(oe),de=s(200),je=s.n(de),he=s(201),be=s.n(he),ue=function(){return Object(v.jsx)("div",{className:"navbar",children:Object(v.jsxs)("div",{class:"wrapper",children:[Object(v.jsx)("div",{class:"search"}),Object(v.jsxs)("div",{class:"items",children:[Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("div",{class:"item",children:[Object(v.jsx)(ne.a,{className:"icon"}),"English"]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsx)("div",{class:"item",children:Object(v.jsx)(ae.a,{className:"icon"})})}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsx)("div",{class:"item",children:Object(v.jsx)(ie.a,{className:"icon"})})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsxs)("div",{class:"item",children:[Object(v.jsx)(le.a,{className:"icon"}),Object(v.jsx)("div",{className:"counter",children:"1"})]})}),Object(v.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)("div",{class:"item",children:[Object(v.jsx)(je.a,{className:"icon"}),Object(v.jsx)("div",{className:"counter",children:"2"})]})}),Object(v.jsx)(ee.b,{to:"/products",style:{textDecoration:"none"},children:Object(v.jsx)("div",{class:"item",children:Object(v.jsx)(be.a,{className:"icon "})})}),Object(v.jsx)("div",{class:"item",children:Object(v.jsx)("img",{src:"https://images.pexels.com/photos/941693/pexels-photo-941693.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:"",className:"avatar"})})]})]})})},Oe=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).server=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"",e.socket=D.a.connect(e.server),e.state={users:[],online:0},e.fetchUsers=e.fetchUsers.bind(Object(d.a)(e)),e.handleUserAdded=e.handleUserAdded.bind(Object(d.a)(e)),e.handleUserUpdated=e.handleUserUpdated.bind(Object(d.a)(e)),e.handleUserDeleted=e.handleUserDeleted.bind(Object(d.a)(e)),e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsers(),this.socket.on("visitor enters",(function(t){return e.setState({online:t})})),this.socket.on("visitor exits",(function(t){return e.setState({online:t})})),this.socket.on("add",(function(t){return e.handleUserAdded(t)})),this.socket.on("update",(function(t){return e.handleUserUpdated(t)})),this.socket.on("delete",(function(t){return e.handleUserDeleted(t)}))}},{key:"fetchUsers",value:function(){var e=this;m.a.get("".concat(this.server,"/api/users/")).then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleUserAdded",value:function(e){var t=this.state.users.slice();t.push(e),this.setState({users:t})}},{key:"handleUserUpdated",value:function(e){var t=this.state.users.slice(),s=t.findIndex((function(t){return t._id===e._id}));t.length>s&&(t[s]=e),this.setState({users:t})}},{key:"handleUserDeleted",value:function(e){var t=this.state.users.slice();t=t.filter((function(t){return t._id!==e._id})),this.setState({users:t})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"list",children:[Object(v.jsx)(te,{}),Object(v.jsxs)("div",{class:"userContainer",children:[Object(v.jsx)(ue,{}),Object(v.jsxs)("div",{class:"user",children:[Object(v.jsx)(y,{headerTitle:"Add User",buttonTriggerTitle:"Add New",buttonSubmitTitle:"Add",buttonColor:"green",onUserAdded:this.handleUserAdded,server:this.server,socket:this.socket}),Object(v.jsx)(T,{onUserUpdated:this.handleUserUpdated,onUserDeleted:this.handleUserDeleted,users:this.state.users,server:this.server,socket:this.socket})]})]})]})}}]),s}(n.Component),pe=(s(280),function(){return Object(v.jsxs)("div",{className:"home",children:[Object(v.jsx)(te,{}),Object(v.jsxs)("div",{class:"homeContainer",children:[Object(v.jsx)(ue,{}),Object(v.jsx)("img",{src:"https://blog.shift4shop.com/hs-fs/hubfs/coming%20soon.png?width=900&name=coming%20soon.png",alt:"",className:"unrelease"})]})]})}),xe=(s(281),function(){return Object(v.jsxs)("div",{className:"home",children:[Object(v.jsx)(te,{}),Object(v.jsxs)("div",{class:"homeContainer",children:[Object(v.jsx)(ue,{}),Object(v.jsx)("img",{src:"https://social.dnsmadeeasy.com/wp-content/uploads/2017/06/AdobeStock_139559217.png",alt:"",className:"unrelease"})]})]})}),me=s(9);s(282),s(283),s(284);var ve=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(ee.a,{children:Object(v.jsx)(me.c,{children:Object(v.jsxs)(me.a,{path:"/",children:[Object(v.jsx)(me.a,{index:!0,element:Object(v.jsx)(pe,{})}),Object(v.jsxs)(me.a,{path:"users",children:[Object(v.jsx)(me.a,{index:!0,element:Object(v.jsx)(Oe,{})}),Object(v.jsx)(me.a,{path:"add",element:Object(v.jsx)(f,{})}),Object(v.jsx)(me.a,{path:":userId",element:Object(v.jsx)(y,{})}),Object(v.jsx)(me.a,{path:"delete",element:Object(v.jsx)(S,{})})]}),Object(v.jsx)(me.a,{path:"products",children:Object(v.jsx)(me.a,{index:!0,element:Object(v.jsx)(xe,{})})})]})})})})},ge=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,315)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[286,1,2]]]);
//# sourceMappingURL=main.fba7ac2f.chunk.js.map